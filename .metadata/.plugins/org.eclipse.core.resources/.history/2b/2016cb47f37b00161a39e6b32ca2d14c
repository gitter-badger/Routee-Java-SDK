import java.io.IOException;

import net.routee.TestConfiguration;
import net.routee.authentication.RouteeAuthentication;
import net.routee.authentication.RouteeAuthenticationException;
import net.routee.contacts.RouteeContactsException;
import net.routee.messaging.Message;
import net.routee.messaging.RouteeMessagingClient;
import net.routee.messaging.RouteeMessagingException;
import net.routee.messaging.SingleSmsResponse;
import net.routee.messaging.SingleSmsTrackResponse;

public class Test {

  public static void main(String[] args)
      throws RouteeAuthenticationException, IOException, RouteeContactsException, RouteeMessagingException, InterruptedException {

    /*
     * I want to get authorized with application credentials, create a contact with custom labels
     * (first create the labels (one text label and one numeric label) and then use them for the
     * creation of the contact), create a new group and add this contact to the group.
     */

    // 1) First for authorization, we create Routee Authentication Instance by providing our
    // application id, and secret.

    // Replace Application ID, and Secret with your Routee Account Credentials
    String APPLICATION_ID = "57d40cabe4b0464b9119ba59";
    String APPLICATION_SECRET = "KZrjjtAh5q";
    RouteeAuthentication auth = new RouteeAuthentication(APPLICATION_ID, APPLICATION_SECRET);
    
    RouteeMessagingClient client = new RouteeMessagingClient(auth);
    
    Message msg = new Message();
    msg.setFrom("Saad");
    msg.setBody("Routee Messaging Test");
    msg.setTo(TestConfiguration.DUMMY_NUMBER);
    SingleSmsResponse result = client.sendSingleSms(msg);
    Thread.sleep(1000);
    SingleSmsTrackResponse response = client.trackSingleSms(result.getTrackingId()); 
    response.getOperator();
    
  }

}
